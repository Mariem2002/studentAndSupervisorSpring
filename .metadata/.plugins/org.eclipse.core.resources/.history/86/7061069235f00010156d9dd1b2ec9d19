package tn.enis.membre_service.dao;

import java.util.List;
import java.util.Optional;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import feign.Param;
import tn.enis.membre_service.entities.Membre_Outil;
import tn.enis.membre_service.entities.Membre_Outil_Id;
import tn.enis.membre_service.entities.Membre_Publication;




public interface MembreOutilRepository  extends JpaRepository<Membre_Outil, Membre_Outil_Id> {
	@Query("select m from Membre_Outil m where m.id.createurId = :creatId")
	List<Membre_Outil> findoutilId(@Param("creatId") Long creatId);

	Membre_Outil findById_OutilId(Long pubId);

	@Query("SELECT mp FROM Membre_Outil mp WHERE mp.id.outilId = :outilId")
    Membre_Outil findByOutilId(@Param("outilId") Long outilId);
	
	@Query("SELECT mo FROM Membre_Outil mo WHERE mo.membre.id = :membreId AND mo.outil.id = :outilId")
	Optional<Membre_Outil> findByMembreIdAndOutilId(@Param("membreId") Long membreId, @Param("outilId") Long outilId);

}
